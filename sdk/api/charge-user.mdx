---
title: Charge User
description: Charge a user a specific amount for a product or service.
---

<CodeGroup>

```typescript @whop/api
import { chargeUser } from "@whop/api";

const input: ChargeUserInput = {
  amount: 29.99,
  currency: "USD",
  userId: "user_123",
  description: "Premium subscription",
  redirectUrl: "https://your-app.com/success",
  metadata: {
    subscriptionType: "premium"
  }
};

const response: ChargeUserResponse = await chargeUser(input);
```

```typescript GraphQL
const mutation = `
  mutation ChargeUser($input: ChargeUserInput!) {
    chargeUser(input: $input) {
      status
      checkoutSession {
        id
        purchaseUrl
      }
    }
  }
`;


const variables = {
  input: {
    amount: 29.99,
    currency: "USD",
    userId: "user_123",
    description: "Premium subscription",
    redirectUrl: "https://your-app.com/success",
    metadata: {
      subscriptionType: "premium"
    }
  }
};

const response = await fetch("https://api.whop.com/public-graphql", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${process.env.WHOP_API_KEY}`
  },
  body: JSON.stringify({
    query: mutation,
    variables
  })
});

const { data } = await response.json();
const chargeResponse: ChargeUserResponse = data.chargeUser;
```

</CodeGroup> 